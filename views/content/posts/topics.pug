extends ../../template

block additionalScripts
    script(src='/js/categories.js')
    script(src='/js/topics.js')

block content
    div(class='categories-main')
        div(class="category-navigation-container")
            if page === 1
                a(href="#" class="category-navigation-container__navigation-button--disabled") ←
            else
                a(href='categories/' + categoryId + '/topics?page=' + (page - 1) class="category-navigation-container__navigation-button") ←
            if page === pageCount
                a(href="#" class="category-navigation-container__navigation-button--disabled") →
            else
                a(href='categories/' + categoryId + '/topics?page=' + (page + 1) class="category-navigation-container__navigation-button") →
            p(class="category-navigation-container__page-count") Страница #{page} из #{pageCount}
            if(edit)
                button(class="category-navigation-container__create-chat-button" onclick='showCreateTopic();') Создать
        if(edit)
            form(class='create-category-form' id='create-topic' style='display: none;')
                div(class='create-category-from__input-group')
                    label(class='create-category-from__label' for='name') Название
                    input(class='create-category-from__input' id='name' type='text' required=true minlength=2 maxlength=32)
                div(class='create-category-from__input-group')
                    label(class='create-chat-from__label' for='description') Описание
                    textarea(class='create-category-from__input--textarea' id='description' maxlength=300)
                input(class='create-category-from__submit-button' type='submit' value='Создать')
        div(class="category-container")
          each val in categories
              div(class="category-card")
                  div
                      a(href="/category/" + val.id class="category-card__header" )= val.name
                      p(class="category-card__description")= val.description